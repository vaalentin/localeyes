!function e(t,i,o){function n(l,a){if(!i[l]){if(!t[l]){var c="function"==typeof require&&require;if(!a&&c)return c(l,!0);if(s)return s(l,!0);var r=new Error("Cannot find module '"+l+"'");throw r.code="MODULE_NOT_FOUND",r}var d=i[l]={exports:{}};t[l][0].call(d.exports,function(e){var i=t[l][1][e];return n(i?i:e)},d,d.exports,e,t,i,o)}return i[l].exports}for(var s="function"==typeof require&&require,l=0;l<o.length;l++)n(o[l]);return n}({"./app/src/scripts/main.js":[function(e){(function(t){"use strict";{var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null);i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof t?t.Backbone:null)}e("./extensions/BetterView"),e("./extensions/PageView"),e("./extensions/ContentView");var n=i(e("./views/AppView"));o(function(){return new n({el:".app"})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./extensions/BetterView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/extensions/BetterView.js","./extensions/ContentView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/extensions/ContentView.js","./extensions/PageView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/extensions/PageView.js","./views/AppView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/AppView.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/collections/CitiesCollection.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),s=o(e("../models/CityModel"));t.exports=n.Collection.extend({model:s})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../models/CityModel":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/CityModel.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/collections/LocalsCollection.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),s=o(e("../models/LocalModel"));t.exports=n.Collection.extend({model:s})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../models/LocalModel":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/LocalModel.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/extensions/BetterView.js":[function(){(function(e){"use strict";var t=function(e){return e&&(e["default"]||e)},i=t("undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null),o=t("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);o.BetterView=o.View.extend({initialize:function(){this.willInitialize&&this.willInitialize.apply(this.arguments),this.template&&(this.template=i.template(this.template)),o.View.prototype.initialize.apply(this,arguments),this.didInitialize&&this.didInitialize.apply(this,arguments)},remove:function(){this.willRemove&&this.willRemove.apply(this,arguments),o.View.prototype.remove.apply(this,arguments),this.didRemove&&this.didRemove.apply(this,arguments)},assign:function(e,t){t?e.setElement(this.$(t)).render():e.setElement(this.$el.render())},unassign:function(){return this.$el.empty().off(),this.stopListening(),this},append:function(e,t){var o=this;i.isArray(e)||(e=[e]),e.forEach(t?function(e){return o.$(t).append(e.render().el)}:function(e){return o.$el.append(e.render().el)})},prepend:function(e,t){var o=this;i.isArray(e)||(e=[e]),e.forEach(t?function(e){return o.$(t).prepend(e.render().el)}:function(e){return o.$el.prepend(e.render().el)})},render:function(){var e=this,t=arguments;if(this.willRender&&this.willRender.apply(this,arguments),this.template&&this.$el.html(this.model?this.template(this.model.toJSON()):this.template()),this.els){var o={};for(var n in this.els)this.els.hasOwnProperty(n)&&(o[n]=this.$(this.els[n]));this.els=o}return this.didRender&&i.defer(function(){e.didRender.apply(e,t)}),this}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/extensions/ContentView.js":[function(){(function(e){"use strict";var t=function(e){return e&&(e["default"]||e)},i=t("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);i.ContentView=i.PageView.extend({content:"",getContent:function(){return this.currentView||{}},changeContent:function(e){if(this.currentView&&this.currentView.name===e.name)return!1;var t=function(){this.prepend(e,this.content),this.currentView=e,e["in"]()}.bind(this),i=this.currentView||null;i?i.out(t).then(function(){return i.remove()}):t()},removeContent:function(){var e=this;return this.currentView?void this.currentView.out().then(function(){e.currentView.remove(),e.currentView=null}):!1},remove:function(){this.removeContent(),i.PageView.prototype.remove.apply(this,arguments)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/extensions/PageView.js":[function(){(function(e){"use strict";var t=function(e){return e&&(e["default"]||e)},i=t("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);i.PageView=i.BetterView.extend({name:void 0,"in":function(){this.$el.velocity("stop").velocity({opacity:1},{duration:800})},out:function(e){var t=this;return new Promise(function(i){setTimeout(e,400),t.$el.velocity("stop").velocity({opacity:0},{duration:800,complete:i})})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/CityModel.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),s=o(e("../utils/slugUtil"));t.exports=n.Model.extend({defaults:{name:"",country:"",north:void 0,east:void 0,south:void 0,west:void 0,slug:void 0,northSlug:void 0,eastSlug:void 0,southSlug:void 0,westSlug:void 0,local:void 0,localSlug:void 0,background:void 0,cover:void 0,icon:[]},initialize:function(){var e=this,t={};this.has("slug")||(t.slug=s(this.get("name"))),!this.has("localSlug")&&this.has("local")&&(t.localSlug=s(this.get("local"))),["north","east","south","west"].forEach(function(i){e.has(i)&&!e.has(""+i+"Slug")&&(t[""+i+"Slug"]=s(e.get(i)))}),this.set(t)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/slugUtil":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/utils/slugUtil.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/FrameModel.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=o.Model.extend({defaults:{north:void 0,east:void 0,south:void 0,west:void 0}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/LocalModel.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),s=o(e("../utils/slugUtil"));t.exports=n.Model.extend({defaults:{name:void 0,slug:void 0,video:void 0,images:[]},initialize:function(){this.has("slug")||this.set({slug:s(this.get("name"))})},validate:function(e){return e.name?void 0:"Local must have a name."}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/slugUtil":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/utils/slugUtil.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/MapModel.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null),n=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=n.Model.extend({initialize:function(e){n.Model.prototype.initialize.call(this),o.extend(this,o.pick(e,"collection")),this.build()},build:function(){var e=this,t={},i=[{name:"north",left:0,top:-1},{name:"east",left:1,top:0},{name:"south",left:0,top:1},{name:"west",left:-1,top:0}];this.collection.each(function(n,s){var l=n.get("slug"),a=0===s?{left:0,top:0}:t[l]?t[l].position:void 0;i.forEach(function(i){var s=n.get(""+i.name+"Slug");if(s&&!t[s]){var l=o.clone(a);l.top+=i.top,l.left+=i.left,t[s]={},t[s].position=l;var c=e.collection.findWhere({slug:s});t[s].directions={},t[s].directions={north:c.get("northSlug"),east:c.get("eastSlug"),south:c.get("southSlug"),west:c.get("westSlug")}}})}),this.set(t)},getPosition:function(e){return this.has(e)?this.get(e).position:void 0},getDirections:function(e){return this.has(e)?this.get(e).directions:void 0}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/modules/Loader.js":[function(e,t){"use strict";var i=function(e,t,i){t&&Object.defineProperties(e,t),i&&Object.defineProperties(e.prototype,i)},o=function(){function e(e){this.srcs=e}return i(e,null,{load:{value:function(){return Promise.all(this.srcs.map(function(e){return new Promise(function(t,i){var o=new Image;o.onload=t,o.onerror=i,o.src=e})}))},writable:!0,enumerable:!0,configurable:!0}}),e}();t.exports=o},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/modules/StoreModule.js":[function(e,t){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i(e("../collections/LocalsCollection")),n=i(e("../collections/CitiesCollection"));t.exports={locals:new o(window.locals),cities:new n(window.cities),getLocals:function(){return this.locals},getCities:function(){return this.cities}}},{"../collections/CitiesCollection":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/collections/CitiesCollection.js","../collections/LocalsCollection":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/collections/LocalsCollection.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/routers/AppRouter.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=o.Router.extend({routes:{"":"default",welcome:"welcome",howto:"howto","local/:slug":"local",city:"city","city/:slug":"city"}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/utils/slugUtil.js":[function(e,t){"use strict";function i(){var e=void 0===arguments[0]?"":arguments[0];return e.toLowerCase().replace(" ","_")}t.exports=i},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/AppView.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),s=o(e("../routers/AppRouter")),l=o(e("../modules/StoreModule")),a=o(e("../views/LoaderView")),c=o(e("../views/WelcomeView")),r=o(e("../views/CitiesView")),d=o(e("../views/LocalView")),u=o(e("../views/HowtoView"));t.exports=n.ContentView.extend({content:".app__content",didInitialize:function(){var e=this,t=new s,i=null,o=new a({el:".loader"});o.out(),t.on("route:default",function(){t.navigate("/welcome",{trigger:!0})}),t.on("route:welcome",function(){var t=new c;e.changeContent(t)}),t.on("route:howto",function(){var t=new u;e.changeContent(t)}),t.on("route:city",function(o){e.currentView&&"cities"===e.currentView.name&&i?i.changeCity(o):(i=new r({collection:l.getCities(),activeCity:o}),e.listenTo(i,"router:navigate",t.navigate),e.changeContent(i))}),t.on("route:local",function(t){var i=l.getLocals().findWhere({slug:t});if(i){var o=new d({model:i});e.changeContent(o)}}),n.history.start()}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../modules/StoreModule":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/modules/StoreModule.js","../routers/AppRouter":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/routers/AppRouter.js","../views/CitiesView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/CitiesView.js","../views/HowtoView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/HowtoView.js","../views/LoaderView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/LoaderView.js","../views/LocalView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/LocalView.js","../views/WelcomeView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/WelcomeView.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/CitiesView.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.jQuery:"undefined"!=typeof i?i.jQuery:null),s=o("undefined"!=typeof window?window._:"undefined"!=typeof i?i._:null),l=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),a=o("undefined"!=typeof window?window.Hammer:"undefined"!=typeof i?i.Hammer:null),c=o(e("../modules/StoreModule")),r=o(e("../models/MapModel")),d=o(e("../models/FrameModel")),u=o(e("./CityView")),f=o(e("./MenuView")),p=o(e("./FrameView")),h=o(e("./InfosView")),v=o(e("./MapView")),w=o(e("./LocalsView"));t.exports=l.ContentView.extend({name:"cities",className:"cities",content:".cities__overlay",template:'\n    <div class="cities__overlay"></div>\n    <div class="cities__frame"></div>\n    <div class="cities__menu"></div>\n    <div class="cities__content"></div>\n  ',els:{$content:".cities__content"},didInitialize:function(e){var t=this;s.extend(this,s.pick(e,"activeCity")),this.map=new r({collection:this.collection}),this.menu=new f,this.frame=new p({model:new d}),this.cities=this.collection.map(function(e){return new u({model:e,position:t.map.getPosition(e.get("slug"))})}),this.listenTo(this.menu,"click",this.onMenuClick),this.listenTo(this.frame,"mouseover",this.onFrameOver),this.listenTo(this.frame,"mouseout",this.onFrameOut),n(document).on("keydown",this.onKeydown.bind(this)),this.isSliding=!1,this.isOpen=!1,this.hammer=new a.Manager(this.$el[0],{dragLockToAxis:!0}),this.hammer.add(new a.Pan({direction:a.DIRECTION_ALL})),this.hammer.on("panleft panright",this.onPanHorizontal.bind(this)),this.hammer.on("panup pandown",this.onPanVertical.bind(this)),this.hammer.on("panend",this.onPanend.bind(this)),n(window).on("resisze",this.onResize.bind(this)),this.dragFactorA=null,this.dragFactorB=null,this.translateX=null,this.translateY=null,this.width=null,this.height=null,this.panY=!1,this.panX=!1},willRemove:function(){this.cities.forEach(function(e){return e.remove()}),n(document).off("keydown",this.onKeydown),n(window).off("resize",this.onResize),this.hammer.destroy()},onMenuClick:function(e){var t,i=this;return"infos"===e?t=new h:"map"===e?(t=new v({collection:c.getCities(),activeCity:this.activeCity}),this.listenTo(t,"marker:click",this.changeCity)):"locals"===e&&(t=new w({collection:c.getCities()})),t?(this.disable(),this.changeContent(t),void this.listenTo(t,"close",function(){i.enable(),i.removeContent()})):!1},onPanHorizontal:function(e){if(this.panY)return!1;if(this.panX=!0,!this.dragFactorA||!this.dragFactorB){var t=this.map.getDirections(this.activeCity);this.dragFactorA=t.west?1:.2,this.dragFactorB=t.east?1:.2}this.width&&this.height||this.onResize();var i=2===e.direction?this.dragFactorB:this.dragFactorA,o=100/this.width*e.deltaX*i,n=this.translateX+o;this.els.$content.velocity({translateX:n+"%"},0)},onPanVertical:function(e){if(this.panX)return!1;if(this.panY=!0,!this.dragFactorA||!this.dragFactorB){var t=this.map.getDirections(this.activeCity);this.dragFactorA=t.north?1:.2,this.dragFactorB=t.south?1:.2}this.width&&this.height||this.onResize();var i=8===e.direction?this.dragFactorB:this.dragFactorA,o=100/this.height*e.deltaY*i,n=this.translateY+o;this.els.$content.velocity({translateY:n+"%"},0)},onPanend:function(e){var t=this.panX?100/this.width*e.deltaX:100/this.height*e.deltaY;if(Math.abs(t)<40)return this.dragFactorA=this.dragFactorB=null,this.panX=this.panY=!1,this.setPosition({easing:"ease-out"});var i=this.map.getDirections(this.activeCity);this.panX?0>t?this.changeCity(i.east,"ease-out"):this.changeCity(i.west,"ease-out"):0>t?this.changeCity(i.south,"ease-out"):this.changeCity(i.north,"ease-out"),this.setPosition({easing:"ease-out"}),this.dragFactorA=this.dragFactorB=null,this.panX=this.panY=!1},onFrameOver:function(e){if(this.isSliding)return!1;var t,i=this.map.getPosition(this.activeCity),o=this.map.getDirections(this.activeCity);"north"===e&&o.north?t={translateY:-100*i.top+10+"%"}:"east"===e&&o.east?t={translateX:-100*i.left-10+"%"}:"south"===e&&o.south?t={translateY:-100*i.top-10+"%"}:"west"===e&&o.west&&(t={translateX:-100*i.left+10+"%"}),t&&(this.isOpen=!0,this.els.$content.velocity("stop").velocity(t,{duration:400}))},onFrameOut:function(){if(this.isSliding||!this.isOpen)return!1;var e=this.map.getPosition(this.activeCity),t={translateX:""+-100*e.left+"%",translateY:""+-100*e.top+"%"};this.els.$content.velocity("stop").velocity(t,{duration:400})},onKeydown:function(e){if(!this.isSliding){var t=this.map.getDirections(this.activeCity),i=e.charcode?e.charcode:e.keyCode;switch(i){case 38:this.changeCity(t.north);break;case 39:this.changeCity(t.east);break;case 40:this.changeCity(t.south);break;case 37:this.changeCity(t.west)}}},onResize:function(){this.width=this.$el.width(),this.height=this.$el.height()},disable:function(){this.els.$content.velocity({opacity:.5},1e3),this.hammer.off("panleft panright",this.onPanHorizontal),this.hammer.off("panup pandown",this.onPanVertical),this.hammer.off("panend",this.onPanend)},enable:function(){this.els.$content.velocity({opacity:1},1e3),this.hammer.on("panleft panright",this.onPanHorizontal.bind(this)),this.hammer.on("panup pandown",this.onPanVertical.bind(this)),this.hammer.on("panend",this.onPanend.bind(this))},setCity:function(){var e=this.collection.findWhere({slug:this.activeCity}),t=s.findWhere(this.cities,{model:e});t&&t["in"](),this.setPosition({transition:!1}),this.setDirections()},changeCity:function(e){var t=void 0===arguments[1]?"ease-in-out":arguments[1];if(!e||e===this.activeCity)return!1;var i=this.collection.findWhere({slug:e}),o=s.findWhere(this.cities,{model:i});o&&o["in"]();var n;if(this.activeCity){var l=this.collection.findWhere({slug:this.activeCity});n=s.findWhere(this.cities,{model:l})}this.activeCity=e,this.setPosition({transition:!0,complete:function(){n&&n.reset()},easing:t}),this.setDirections()},setPosition:function(e){var t=this;if(this.isSliding)return!1;var i=s.extend({transition:!0,duration:800,easing:"ease-in-out"},e),o=this.map.getPosition(this.activeCity);if(!o)return!1;this.translateX=-100*o.left,this.translateY=-100*o.top;var n={translateX:this.translateX+"%",translateY:this.translateY+"%"};this.isSliding=!0,this.els.$content.velocity("stop").velocity(n,{duration:i.transition?i.duration:0,easing:i.easing,complete:function(){t.isSliding=!1,i.complete&&i.complete(),t.trigger("router:navigate","/city/"+t.activeCity)}})},setDirections:function(){var e=this.map.getDirections(this.activeCity);this.frame.model.set(e)},didRender:function(){this.append(this.cities,".cities__content"),this.assign(this.menu,".cities__menu"),this.assign(this.frame,".cities__frame"),this.setCity(),this.menu["in"](),this.frame["in"]()},out:function(e){var t=this,i=this.collection.findWhere({slug:this.activeCity}),o=s.findWhere(this.cities,{model:i});return new Promise(function(i){o&&o.out(),t.frame.out(),setTimeout(e,600),t.$el.velocity("stop").velocity({opacity:0},{duration:1500,complete:i})})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../models/FrameModel":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/FrameModel.js","../models/MapModel":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/models/MapModel.js","../modules/StoreModule":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/modules/StoreModule.js","./CityView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/CityView.js","./FrameView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/FrameView.js","./InfosView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/InfosView.js","./LocalsView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/LocalsView.js","./MapView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/MapView.js","./MenuView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/MenuView.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/CityView.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.jQuery:"undefined"!=typeof i?i.jQuery:null),s=o("undefined"!=typeof window?window._:"undefined"!=typeof i?i._:null),l=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),a=o(e("../modules/Loader"));t.exports=l.BetterView.extend({className:"city",template:'\n    <div class="city__content">\n      <div class="city__content__section">\n        <div class="city__title">\n          <div class="city__icon">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 90 90">\n              <% _.each(icon, function(el) { %>\n              <path fill="#ffffff"\n                stroke="#ffffff"\n                stroke-width="1"\n                stroke-linecap="round"\n                stroke-linejoin="round"\n                d="<%= el.path %>"\n                <% if (el.length) { %>\n                data-length="<%= el.length %>"\n                <% } %>/>\n              <% }); %>\n            </svg>\n          </div>\n          <h1 class="city__name"> <% print(name.toUpperCase()); %> </h1>\n          <h2 class="city__country"> <% print(country.toUpperCase()); %> </h2>\n          <div class="city__square city__square--topLeft"></div>\n          <div class="city__square city__square--topRight"></div>\n          <div class="city__square city__square--bottomLeft"></div>\n          <div class="city__square city__square--bottomRight"></div>\n        </div>\n      </div>\n      <% if (localSlug) { %>\n      <div class="city__content__section city__content__section--button">\n        <div class="city__button">\n          <a href="#local/<%= localSlug %>" class="city__link">\n            DÉCOUVRIR <span class="city__local"> <% print(local.toUpperCase()); %> </span>\n          </a>\n          <div class="city__border city__border--top"></div>\n          <div class="city__border city__border--left"></div>\n          <div class="city__border city__border--bottom"></div>\n          <div class="city__border city__border--right"></div>\n        </div>\n      </div>\n      <% } %>\n    </div>\n    <% if (background) { %>\n      <div class="city__background"\n        style="background-image:url(<%= background %>)"></div>\n    <% } %>\n  ',els:{$squareTopLeft:".city__square--topLeft",$squareTopRight:".city__square--topRight",$squareBottomLeft:".city__square--bottomLeft",$squareBottomRight:".city__square--bottomRight",$name:".city__name",$country:".city__country",$icon:".city__icon",$button:".city__button",$bordersTopBottom:".city__border--top, .city__border--bottom",$bordersLeftRight:".city__border--left, .city__border--right",$background:".city__background",$svgs:"svg"},didInitialize:function(e){s.extend(this,s.pick(e,"position"))},onLoad:function(){this.loaded=!0},setPosition:function(){this.$el.css({left:100*this.position.left+"%",top:100*this.position.top+"%"})},"in":function(){this.$el.css("z-index",2),this.els.$squareTopLeft.velocity("stop").velocity({left:0,opacity:1},{duration:400,delay:500}).velocity({top:0},{duration:400,delay:200}),this.els.$squareTopRight.velocity("stop").velocity({right:0,opacity:1},{duration:400,delay:500}).velocity({top:0},{duration:400,delay:200}),this.els.$squareBottomLeft.velocity("stop").velocity({left:0,opacity:1},{duration:400,delay:500}).velocity({bottom:0},{duration:400,delay:300}),this.els.$squareBottomRight.velocity("stop").velocity({right:0,opacity:1},{duration:400,delay:500}).velocity({bottom:0},{duration:400,delay:300}),this.els.$name.velocity("stop").velocity({opacity:1,top:0},{duration:500,delay:1100}),this.els.$country.velocity("stop").velocity({opacity:1,top:0},{duration:500,delay:1200}),this.els.$icon.velocity("stop").velocity({top:-90,opacity:1},{duration:1500,delay:500}),this.els.$button.velocity("stop").velocity({opacity:1,top:0},{duration:500,delay:1400}),this.els.$bordersTopBottom.velocity("stop").velocity({width:"100%"},{duration:1e3,delay:1400,display:"block"}),this.els.$bordersLeftRight.velocity("stop").velocity({height:"100%"},{duration:1e3,delay:1400,display:"block"}),this.els.$background.velocity("stop").velocity({scale:1.2},0).velocity({scale:1},2500),this.els.$svgs.each(function(){n("path",this).each(function(){var e,t=n(this),i=t.attr("data-length");i?e=parseFloat(i):(e=t[0].getTotalLength(),t.attr("data-length",e)),t.velocity("stop").velocity({"stroke-dashoffset":e,"stroke-dasharray":""+e+","+e,fillOpacity:0,strokeOpacity:1},0).velocity({"stroke-dashoffset":0},{duration:2e3,delay:500}).velocity({fillOpacity:1},{duration:500,delay:2e3,queue:!1})})})},out:function(){this.els.$background.velocity("stop").velocity({scale:1.2},600),this.$el.velocity("stop").velocity({opacity:0},{duration:600})},reset:function(){this.$el.css("z-index",1),this.els.$squareTopLeft.velocity("stop").css({top:"50%",left:"50%",opacity:0}),this.els.$squareTopRight.velocity("stop").css({top:"50%",right:"50%",opacity:0}),this.els.$squareBottomLeft.velocity("stop").css({bottom:"50%",left:"50%",opacity:0}),this.els.$squareBottomRight.velocity("stop").css({bottom:"50%",right:"50%",opacity:0}),this.els.$name.velocity("stop").css({opacity:0,top:-90}),this.els.$country.velocity("stop").css({opacity:0,top:50}),this.els.$icon.velocity("stop").css({top:-150,opacity:0}),this.els.$button.velocity("stop").css({opacity:0,top:50}),this.els.$bordersTopBottom.velocity("stop").css("width",0),this.els.$bordersLeftRight.velocity("stop").css("height",0),this.els.$background.velocity("stop").velocity({scale:1.2},0),this.els.$svgs.each(function(){n("path",this).each(function(){var e,t=n(this),i=t.attr("data-length");i?e=parseFloat(i):(e=t[0].getTotalLength(),t.attr("data-length",e)),t.velocity("stop").velocity({"stroke-dashoffset":e,"stroke-dasharray":""+e+","+e,fillOpacity:0,strokeOpacity:1},0)})})},didRender:function(){this.setPosition(),this.loaded=!1,this.loader=new a([this.model.get("background")]),this.loader.load().then(this.onLoad.bind(this))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../modules/Loader":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/modules/Loader.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/CoverView.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=(i("undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null),i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null));t.exports=o.BetterView.extend({className:"cover",template:'\n    <div class="cover__overlay"></div>\n    <a href="#/city/<%= slug %>" class="cover__link">\n      <div class="cover__title">\n        <h1 class="cover__name"> <% print(name.toUpperCase()); %> </h1>\n        <h2 class="cover__country"> <% print(country.toUpperCase()); %> </h2>\n      </div>\n    </a>\n    <% if (cover) { %>\n      <div class="cover__background"\n        style="background-image:url(<%= cover %>)"></div>\n    <% } %>\n  ',events:{mouseover:"onMouseover",mouseout:"onMouseout"},onMouseover:function(){this.$(".cover__overlay").velocity("stop").velocity({opacity:.6},400),this.$(".cover__background").velocity("stop").velocity({scale:1.1},400),this.$(".cover__name").velocity("stop").velocity({opacity:1,top:0},300),this.$(".cover__country").velocity("stop").velocity({opacity:1,top:0},200)},onMouseout:function(){this.$(".cover__overlay").velocity("stop").velocity({opacity:0},400),this.$(".cover__background").velocity("stop").velocity({scale:1},400),this.$(".cover__name").velocity("stop").velocity({opacity:0,top:-30},300),this.$(".cover__country").velocity("stop").velocity({opacity:0,top:30},200)},"in":function(e){var t=this;return new Promise(function(i){t.$el.velocity({rotateX:90,opacity:0},0).velocity({rotateX:0,opacity:1},{duration:500,delay:e||0,complete:i,easing:"ease-out"})})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/FrameView.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null),n=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=n.BetterView.extend({template:'\n    <div class="frame">\n      <a class="frame__bar frame__bar--top" data-direction="north">\n        <div class="frame__text frame__text--horizontal">\n          <span class="frame__letter"> N </span>\n        </div>\n        <div class="frame__arrow frame__arrow--top">\n          <div class="frame__arrow__container frame__arrow__container--top">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 20 50">\n              <path fill="#ffffff" d="M20,50L10 40 0 50 0 0 20 0 z"/>\n            </svg>\n          </div>\n        </div>\n        <div class="frame__part frame__part--left"></div>\n        <div class="frame__part frame__part--right"></div>\n      </a>\n\n      <a class="frame__bar frame__bar--right" data-direction="east">\n        <div class="frame__text frame__text--vertical">\n          <div class="frame__letters frame__letters--vertical">\n            <span class="frame__letter frame__letter--vertical"> E </span>\n          </div>\n        </div>\n        <div class="frame__arrow frame__arrow--right">\n          <div class="frame__arrow__container frame__arrow__container--right">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 20">\n              <path fill="#ffffff" d="M0,0L10 10 0 20 50 20 50 0 z"/>\n            </svg>\n          </div>\n        </div>\n        <div class="frame__part frame__part--top"></div>\n        <div class="frame__part frame__part--bottom"></div>\n      </a>\n\n      <a class="frame__bar frame__bar--bottom" data-direction="south">\n        <div class="frame__text frame__text--horizontal">\n          <span class="frame__letter"> S </span>\n        </div>\n        <div class="frame__arrow frame__arrow--bottom">\n          <div class="frame__arrow__container frame__arrow__container--bottom">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 20 50">\n              <path fill="#ffffff" d="M20,0L10 10 0 0 0 50 20 50 z"/>\n            </svg>\n          </div>\n        </div>\n        <div class="frame__part frame__part--left"></div>\n        <div class="frame__part frame__part--right"></div>\n      </a>\n\n      <a class="frame__bar frame__bar--left" data-direction="west">\n        <div class="frame__text frame__text--vertical">\n          <div class="frame__letters frame__letters--vertical">\n            <span class="frame__letter frame__letter--vertical"> W </span>\n          </div>\n        </div>\n        <div class="frame__arrow frame__arrow--left">\n          <div class="frame__arrow__container frame__arrow__container--left">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 20">\n              <path fill="#ffffff" d="M50,20L40 10 50 0 0 0 0 20 z"/>\n            </svg>\n          </div>\n        </div>\n        <div class="frame__part frame__part--top"></div>\n        <div class="frame__part frame__part--bottom"></div>\n      </a>\n    </div>\n  ',events:{"mouseover .frame__bar":"onMouseover","mouseout .frame__bar":"onMouseout"},els:{$barTop:".frame__bar--top",$barLeft:".frame__bar--left",$barBottom:".frame__bar--bottom",$barRight:".frame__bar--right"},didInitialize:function(){this.listenTo(this.model,"change",this.onChange)
},onMouseover:function(e){var t=o(e.currentTarget),i=t.attr("data-direction");i&&this.trigger("mouseover",i)},onMouseout:function(){this.trigger("mouseout")},onChange:function(){var e=this;["top","right","bottom","left"].forEach(function(t){var i=e.$(".frame__bar--"+t),o=i.attr("data-direction");e.model.has(o)?i.attr("href","#city/"+e.model.get(o)).removeClass("is-inactive"):i.attr("href",null).addClass("is-inactive")})},onUpdate:function(e){this.model.set(e)},disable:function(){return this.previousValues?!1:(this.previousValues=this.model.toJSON(),void this.model.set({north:void 0,east:void 0,south:void 0,west:void 0}))},enable:function(){return this.previousValues?(this.model.set(this.previousValues),void(this.previousValues=null)):!1},"in":function(){this.els.$barTop.css("top",-40).velocity({top:0},{duration:800}),this.els.$barBottom.css("bottom",-40).velocity({bottom:0},{duration:800}),this.els.$barLeft.css("left",-40).velocity({left:0},{duration:800}),this.els.$barRight.css("right",-40).velocity({right:0},{duration:800})},out:function(){this.els.$barTop.velocity("stop").velocity({top:-40},{duration:800}),this.els.$barBottom.velocity("stop").velocity({bottom:-40},{duration:800}),this.els.$barLeft.velocity("stop").velocity({left:-40},{duration:800}),this.els.$barRight.velocity("stop").velocity({right:-40},{duration:800})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/HowtoView.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null),n=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=n.PageView.extend({name:"howto",className:"howto",template:'\n    <div class=\'howto__content\'>\n      <h1 class=\'howto__title\'> POUR VOYAGER ENTRE CHAQUE PAYS </h1>\n      <div class=\'howto__columns\'>\n        <div class=\'howto__column\'>\n          <div class=\'howto__keys__wrapper\'>\n            <div class=\'howto__keys\'>\n              <div class=\'howto__key howto__key--top\'>\n                <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n                  <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="   M48,46.032C48,47.119,47.114,48,46.021,48H3.979C2.886,48,2,47.119,2,46.032V3.968C2,2.881,2.886,2,3.979,2h42.043   C47.114,2,48,2.881,48,3.968V46.032z"/>\n                  <polyline fill="none" stroke="#FFFFFF" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="   12.882,31.027 25,18.973 37.118,31.027  "/>\n                </svg>\n              </div>\n              <div class=\'howto__key howto__key--right\'>\n                <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n                  <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="   M48,46.032C48,47.119,47.114,48,46.021,48H3.979C2.886,48,2,47.119,2,46.032V3.968C2,2.881,2.886,2,3.979,2h42.043   C47.114,2,48,2.881,48,3.968V46.032z"/>\n                  <polyline fill="none" stroke="#FFFFFF" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="   18.973,12.882 31.027,25 18.973,37.118  "/>\n                </svg>\n              </div>\n              <div class=\'howto__key howto__key--bottom\'>\n                <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n                  <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="   M48,46.032C48,47.119,47.114,48,46.021,48H3.979C2.886,48,2,47.119,2,46.032V3.968C2,2.881,2.886,2,3.979,2h42.043   C47.114,2,48,2.881,48,3.968V46.032z"/>\n                  <polyline fill="none" stroke="#FFFFFF" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="   37.118,18.973 25,31.027 12.882,18.973  "/>\n                </svg>\n              </div>\n              <div class=\'howto__key howto__key--left\'>\n                <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n                  <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="   M48,46.032C48,47.119,47.114,48,46.021,48H3.979C2.886,48,2,47.119,2,46.032V3.968C2,2.881,2.886,2,3.979,2h42.043   C47.114,2,48,2.881,48,3.968V46.032z"/>\n                  <polyline fill="none" stroke="#FFFFFF" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="   31.027,37.118 18.973,25 31.027,12.882  "/>\n                </svg>\n              </div>\n            </div>\n          </div>\n          <div class=\'howto__text\'>\n            DIRIGEZ VOUS GRÂCE AUX FLÊCHES DE VOTRE CLAVIER\n          </div>\n        </div>\n        <div class=\'howto__column howto__column--middle\'>\n          <div class=\'howto__text\'>\n            OR\n          </div>        \n        </div>\n        <div class=\'howto__column\'>\n          <div class=\'howto__directions__wrapper\'>\n            <div class=\'howto__directions\'>\n              <div class=\'howto__directions__mouse\'>\n                <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 15 20">\n                  <path fill="#0a0a0a" stroke="#ffffff" stroke-width="1" d="M0.742,0.082L0.742 17.12 5.495 12.966 9.33 19.918 11.411 18.794 8.4 11.979 14.258 11.135 z"/>\n                </svg>\n              </div>\n              <div class=\'howto__directions__frame\'>\n                <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 180 110">\n                  <rect x="4" y="1.5" fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" width="172" height="107"/>\n                  <path fill="#ffffff" d="M91.019,91.492c-0.116-0.784-0.371-1.568-0.976-1.568c-0.668,0-0.933,0.815-0.933,1.712c0,0.864,0.116,1.137,1.229,2.146    c0.87,0.784,1.464,1.44,1.464,3.089c0,1.681-0.594,3.01-1.781,3.01c-1.252,0-1.708-1.249-1.813-2.945l0.71-0.145    c0.096,1.185,0.266,2.081,1.124,2.081c0.615,0,1.05-0.624,1.05-1.905c0-1.408-0.604-1.889-1.336-2.528    c-0.816-0.721-1.357-1.232-1.357-2.802c0-1.44,0.637-2.721,1.644-2.721c0.997,0,1.485,1.072,1.665,2.417L91.019,91.492z"/>\n                  <path fill="#ffffff" d="M88.155,8.261h0.891l2.101,8.98l0.021-0.032l-0.031-2.385V8.261h0.71v10.677h-0.891l-2.1-8.996l-0.021,0.032l0.032,2.417    v6.547h-0.711V8.261z"/>\n                  <path fill="#ffffff" d="M161.943,48.66h3.446v0.961h-2.736v3.521h2.26v0.96h-2.26v4.274h2.736v0.96h-3.446V48.66z"/>\n                  <path fill="#ffffff" d="M18.749,48.66l-0.711,10.885H17.73l-1.177-6.45h-0.021l-1.177,6.45h-0.308L14.337,48.66l0.711-0.208l0.339,8.02h0.021    l1.028-5.618h0.212l1.029,5.618h0.021l0.34-8.02L18.749,48.66z"/>\n                </svg>\n              </div>\n            </div>\n          </div>\n          <div class=\'howto__text\'>\n            UTILISEZ VOTRE SOURIS POUR CLIQUER SUR LES DIRRECTIONS\n          </div>\n        </div>\n      </div>\n      <div class=\'howto__buttons\'>\n        <div class="howto__button">\n          <a href="#city/london" class="howto__link">\n            COMMENCER\n          </a>\n          <div class="howto__border howto__border--top"></div>\n          <div class="howto__border howto__border--left"></div>\n          <div class="howto__border howto__border--bottom"></div>\n          <div class="howto__border howto__border--right"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\'howto__background\'></div>\n  ',els:{$background:".howto__background",$title:".howto__title",$columns:".howto__column",$keys:".howto__key",$mouse:".howto__directions__mouse",$button:".howto__button",$bordersTopBottom:".howto__border--top, .howto__border--bottom",$bordersLeftRight:".howto__border--left, .howto__border--right"},willRemove:function(){this.stopIdleAnimations()},startIdleAnimations:function(){var e=this;if(this.idlePlaying)return!1;this.idlePlaying=!0;var t=this.els.$keys.length,i=0,n=function(){return e.idlePlaying?(i++,i>=t&&(i=0),void o(e.els.$keys[i]).velocity({opacity:1},{duration:300,delay:300}).velocity({opacity:.2},{duration:300,delay:200,complete:n})):!1};n();var s=0,l={0:{top:"54%",left:"13%"},1:{top:"20%",left:"54%"},2:{top:"90%",left:"54%"},3:{top:"54%",left:"94%"}},a=function(){return e.idlePlaying?(s++,s>=4&&(s=0),void e.els.$mouse.velocity(l[s],{duration:700,delay:500,complete:a})):!1};a()},stopIdleAnimations:function(){this.idlePlaying=!1},"in":function(){this.els.$background.velocity({opacity:.4},2e3),this.els.$title.velocity({opacity:0,translateY:"-50px"},0).velocity({opacity:1,translateY:0},{duration:500,delay:1e3}),this.els.$columns.each(function(e){var t=o(this),i=300*e;t.velocity({opacity:0,translateY:"50px"},0).velocity({opacity:1,translateY:0},{duration:500,delay:i+1e3}),t.find(".howto__text").each(function(){var e=o(this);e.each(function(e){o(this).velocity({opacity:0,translateY:"50px"},0).velocity({opacity:1,translateY:0},{duration:500,delay:i+300*(e+1)+1e3})})})}),this.els.$button.velocity("stop").velocity({opacity:1,top:0},{duration:500,delay:1400}),this.els.$bordersTopBottom.velocity("stop").velocity({width:"100%"},{duration:1e3,delay:1400,display:"block"}),this.els.$bordersLeftRight.velocity("stop").velocity({height:"100%"},{duration:1e3,delay:1400,display:"block"}),this.startIdleAnimations()}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/InfosView.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null),n=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=n.PageView.extend({name:"infos",className:"infos",template:'\n    <div class="infos__wrapper">\n      <div class="infos__dummy"></div>\n      <div class="infos__container">\n        <div class="infos__centerer"></div>\n        <div class="infos__content">\n          <a class="infos__icon infos__icon--close">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n              <line stroke="#000000" stroke-width="2" x1="13.3" y1="36.7" x2="36.7" y2="13.3"/>\n              <line stroke="#000000" stroke-width="2" x1="13.3" y1="13.3" x2="36.7" y2="36.7"/>\n            </svg>\n          </a>\n          <div class="infos__content__container">\n            '+o("#infosContent").html()+"\n          </div>\n        </div>\n      </div>\n    </div>\n  ",events:{"click .infos__icon--close":"onCloseClick"},onCloseClick:function(){this.trigger("close")},"in":function(){this.$el.velocity({translateY:200,opacity:0},0).velocity({translateY:0,opacity:1},500)},out:function(e){var t=this;return setTimeout(e,200),new Promise(function(e){t.$el.velocity({translateY:-200,opacity:0},{duration:500,complete:e})})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/LoaderView.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=o.PageView.extend({name:"loader",out:function(){this.$el.velocity("stop").velocity({opacity:0},{duration:2e3,complete:this.remove.bind(this)})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/LocalView.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.jQuery:"undefined"!=typeof i?i.jQuery:null),s=o("undefined"!=typeof window?window._:"undefined"!=typeof i?i._:null),l=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),a=o("undefined"!=typeof window?window.skrollr:"undefined"!=typeof i?i.skrollr:null),c=o("undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null),r=o(e("../modules/StoreModule")),d=o(e("../modules/Loader"));t.exports=l.PageView.extend({name:"local",className:"local",template:"\n    <% if (video) { %>\n      <div class='local__video'>\n        <div class='local__video__overlay'>\n          <% if (video.markers) _.each(video.markers, function (marker) { %>\n            <div class='local__marker'\n              style='left:<%= marker.position.x || 0 %>;top:<%= marker.position.y || 0 %>'>\n              <% if (marker.text) { %>\n                <div class=\"local__marker__link\" data-time='<%= marker.time || 0 %>'>\n                  <%= marker.text.toUpperCase() %>\n                </div>\n              <% } %>\n              <div class=\"local__marker__icon\">\n                <svg xmln=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 30 48\">\n                  <path stroke='none'\n                    fill='#fff'\n                    d='M15,0C6.7,0,0,7.4,0,16.6c0,2.9,0.7,5.6,1.8,7.9c0,0.2,11.7,22.6,11.7,22.6c0.3,0.6,0.8,0.9,1.4,0.9c0.6,0,1.1-0.4,1.4-0.9  c0,0,11.7-22.4,11.7-22.6c1.2-2.4,1.8-5.1,1.8-7.9C30,7.4,23.3,0,15,0 M15,23.2c-4.1,0-7.5-3.3-7.5-7.4s3.4-7.4,7.5-7.4  c4.1,0,7.5,3.3,7.5,7.4C22.5,19.9,19.1,23.2,15,23.2'/>\n                </svg>\n              </div>\n            </div>\n          <% }); %>\n        </div>\n        <video class='local__video__video video-js vjs-default-skin'\n          data-setup='{ \"techOrder\": [\"youtube\"], \"src\": \"<%= video.url %>\" }'\n          classover='<%= video.cover || \"\" %>'\n          controls='controls'\n          width='auto'\n          height='auto'\n          preload='auto'\n          autoplay\n          cover=''>\n        </video>\n      </div>\n    <% } %>\n    <div class='local__content'></div>\n    <a href='#city/<%= citySlug %>' class='local__next' style='background-image:url(<%= cityBackground %>);'></a>\n  ",blocksTemplates:{1:s.template("\n      <div class='local__block local__block--type1'>\n        <img class='local__image' src='<%= urls[0] %>'>\n      </div>\n    "),2:s.template("\n      <div class='local__block local__block--type2'>\n        <div class='local__column local__column--half local__column--left'>\n          <div class='local__column__content'>\n            <img class='local__image' src='<%= urls[0] %>'\n              data-bottom-top='left:-100%;opacity:0;'\n              data-center-center='left:0%;opacity:1;top:0px;'\n              data-top-bottom='top:50px;'\n              >\n          </div>\n        </div>\n        <div class='local__column local__column--half local__column--right'>\n          <div class='local__column__content'>\n            <img class='local__image' src='<%= urls[1] %>'\n              data-bottom-top='left:100%;opacity:0;;'\n              data-center-center='left:0%;opacity:1;top:0px'\n              data-top-bottom='top:-20px;'\n              >\n          </div>\n        </div>\n      </div>\n    "),3:s.template("\n      <div class='local__block local__block--type3'>\n        <div class='local__column local__column--mask'>\n          <img class='local__image' src='<%= urls[0] %>'\n            data-bottom-top='transform:scale(1.5);'\n            data-center-bottom='transform:scale(1);'\n            >\n        </div>\n      </div>\n    ")},didInitialize:function(){this.$win=n(window),this.$win.on("scroll",this.onScroll.bind(this)),this.city=r.getCities().findWhere({localSlug:this.model.get("slug")})},willRemove:function(){this.video&&this.video.dispose(),this.$win.off("scroll",this.onScroll),this.$(".local__marker__link").off("click"),a.init().destroy()},"in":function(){return this.loaded?void this.$el.velocity({opacity:1},2e3):!1},out:function(e){var t=this;return n("html,body").scrollTop(this.scrollTop),new Promise(function(i){setTimeout(e,400),t.$el.velocity("stop").velocity({opacity:0},{duration:800,complete:function(){i()}})})},onScroll:function(){this.scrollTop=this.$win.scrollTop()},onLoad:function(){var e=this;this.loaded=!0,s.defer(function(){e.skrollr=a.init({forceHeight:!1})}),this["in"]()},renderBlocks:function(){var e=this,t="";return this.model.get("images").forEach(function(i){t+=e.blocksTemplates[i.type](i)}),t},render:function(){var e=this.model.toJSON();return e.citySlug=this.city.get("slug"),e.cityBackground=this.city.get("background"),this.$el.html(this.template(e)),this.$(".local__content").html(this.renderBlocks()),s.defer(this.didRender.bind(this)),this},onMarkerClick:function(e){if(!this.video)return!1;var t=n(e.currentTarget).attr("data-time")||0;this.video.currentTime(t)},setupVideo:function(){var e=this.$(".local__video__video");return e.length?(this.video=c(e[0]),this.video.one("play",this.videoIn.bind(this)),void this.$(".local__marker__link").on("click",this.onMarkerClick.bind(this))):!1},videoIn:function(){this.$(".local__video").velocity({translateY:50,opacity:0},0).velocity({translateY:0,opacity:1},{duration:800,delay:100}),this.$(".local__marker").each(function(e){n(this).velocity({translateY:50,opacity:0},0).velocity({translateY:0,opacity:1},{duration:500,delay:200*e+600})})},didRender:function(){this.setupVideo();var e=this.model.get("images").reduce(function(e,t){return e.concat(t.urls||[])},[]);this.loaded=!1,this.loader=new d(e),this.loader.load().then(this.onLoad.bind(this))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../modules/Loader":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/modules/Loader.js","../modules/StoreModule":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/modules/StoreModule.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/LocalsView.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null),s=o(e("./CoverView"));t.exports=n.PageView.extend({name:"locals",className:"locals",template:'\n    <div class="locals__wrapper">\n      <div class="locals__dummy"></div>\n      <div class="locals__container">\n        <div class="locals__centerer"></div>\n        <div class="locals__content">\n          <a class="locals__icon locals__icon--close">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n              <line stroke="#000000" stroke-width="2" x1="13.3" y1="36.7" x2="36.7" y2="13.3"/>\n              <line stroke="#000000" stroke-width="2" x1="13.3" y1="13.3" x2="36.7" y2="36.7"/>\n            </svg>\n          </a>\n          <div class="locals__frame">\n            <div class="locals__bar locals__bar--top"></div>\n            <div class="locals__bar locals__bar--right"></div>\n            <div class="locals__bar locals__bar--bottom"></div>\n            <div class="locals__bar locals__bar--left"></div>\n          </div>\n          <div class="locals__content__container"></div>\n        </div>\n      </div>\n    </div>\n  ',events:{"click .locals__icon--close":"onCloseClick"},els:{$barsTopBottom:".locals__bar--top, .locals__bar--bottom",$barsLeftRight:".locals__bar--left, .locals__bar--right",$icon:".locals__icon--close"},onCloseClick:function(){this.trigger("close")},didInitialize:function(){this.covers=this.collection.map(function(e){return new s({model:e})})},willRemove:function(){this.covers.forEach(function(e){return e.remove()})},"in":function(){this.$el.velocity({translateY:200,opacity:0},0).velocity({translateY:0,opacity:1},500),this.els.$barsLeftRight.css("height",0).velocity({height:"100%"},{duration:1e3}),this.els.$barsTopBottom.css("width",0).velocity({width:"100%"},{duration:1e3,delay:500}),this.els.$icon.velocity({translateY:50,opacity:0},0).velocity({translateY:0,opacity:1},{duration:600,delay:800}),this.covers.forEach(function(e,t){e["in"](200*t+400)})},out:function(e){var t=this;return setTimeout(e,200),new Promise(function(e){t.$el.velocity({translateY:-200,opacity:0},{duration:500,complete:e})})},didRender:function(){this.append(this.covers,".locals__content__container")}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./CoverView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/CoverView.js"}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/MapView.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null),n=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=n.PageView.extend({name:"map",className:"map",template:'\n    <div class="map__wrapper">\n      <div class="map__dummy"></div>\n      <div class="map__container">\n        <div class="map__centerer"></div>\n        <div class="map__content">\n          <a class="map__icon map__icon--close">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n              <line stroke="#000000" stroke-width="2" x1="13.3" y1="36.7" x2="36.7" y2="13.3"/>\n              <line stroke="#000000" stroke-width="2" x1="13.3" y1="13.3" x2="36.7" y2="36.7"/>\n            </svg>\n          </a>\n          <div class="map__content__container"></div>\n        </div>\n      </div>\n    </div>\n  ',events:{"click .map__icon--close":"onCloseClick"},didInitialize:function(e){_.extend(this,_.pick(e,"activeCity"))},onCloseClick:function(){this.trigger("close")},didRender:function(){var e=this;o.ajaxSetup({cache:!0}),o.getScript("https://www.google.com/jsapi",function(){window.google.load("maps","3",{other_params:"sensor=false",callback:e.buildMap.bind(e)})})},buildMap:function(){var e=this,t={zoom:4,styles:[{featureType:"water",stylers:[{color:"#ffffff"}]},{featureType:"landscape",stylers:[{saturation:-100},{color:"#424242"}]},{featureType:"road.highway",stylers:[{saturation:-100},{lightness:-74}]},{featureType:"water",stylers:[{color:"#969696"}]},{featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:-54}]}]},i=new google.maps.Map(this.$(".map__content__container")[0],t),o=new google.maps.Geocoder,n=new google.maps.LatLngBounds,s=new google.maps.MarkerImage("../app/public/images/map-marker.png",null,null,null,new google.maps.Size(22,35));this.collection.each(function(t,l){var a=t.get("name"),c=t.get("country"),r=t.get("slug"),d=r===e.activeCity?google.maps.Animation.BOUNCE:google.maps.Animation.DROP;o.geocode({address:""+a+", "+c},function(t){var o=t[0].geometry.location;return o?(n.extend(o),i.fitBounds(n),void setTimeout(function(){var t=new google.maps.Marker({position:o,map:i,title:a,animation:d,icon:s});google.maps.event.addListener(t,"click",function(){e.trigger("marker:click",r)})},300*l)):!1})})},"in":function(){this.$el.velocity({translateY:200,opacity:0},0).velocity({translateY:0,opacity:1},500)},out:function(e){var t=this;return setTimeout(e,200),new Promise(function(e){t.$el.velocity({translateY:-200,opacity:0},{duration:500,complete:e})})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/MenuView.js":[function(e,t){(function(e){"use strict";var i=function(e){return e&&(e["default"]||e)},o=i("undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null),n=i("undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null);t.exports=n.BetterView.extend({template:'\n    <div class="menu">\n      <a class="menu__button menu__button--bottomRight" data-button="locals">\n        <div class="menu__icon menu__icon--locals">\n          <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n            <path d="M35.9,32C34.5,28.2,32,27.3,30,27c-1.7-0.3-3.7-0.9-4.4-1.3c0-0.3,0-1,0-2.1c0,0,0.1-0.1,0.1-0.1l0,0c1-1.3,1.4-2.5,1.7-3.4  c0.6-0.4,1.3-1.3,1.7-3c0.2-1,0.4-2.2-0.3-3.1c0,0,0,0,0-0.1c0.6-6.2-3.3-9.3-5.6-10.1l0,0l0,0c-0.9-0.3-1.7-0.4-2.5-0.4  c-0.2,0-0.4,0-0.5,0c-0.2,0-0.3,0-0.5,0c-0.8,0-1.6,0.1-2.5,0.4l0,0l0,0c-2.3,0.8-6.3,3.9-5.6,10.1c0,0,0,0,0,0.1  c-0.7,0.9-0.5,2.1-0.3,3.1c0.4,1.7,1.1,2.5,1.7,3c0.2,0.8,0.7,2,1.6,3.3v0c0,0,0,0,0,0c0.1,0.1,0.1,0.1,0.2,0.2  c0.1,1.1,0.1,1.7,0,2.1c-0.7,0.4-2.8,1-4.4,1.3c-2,0.4-4.4,1.2-5.9,5.1c-0.2,0.7-0.2,1.4,0.2,1.9c1.5,2.2,9.4,2.6,15.7,2.6  s14.2-0.5,15.7-2.6C36.1,33.4,36.2,32.7,35.9,32z M14,18.9c-0.2,0-1-0.1-1.5-2.2c-0.4-1.6,0-1.9,0.3-1.9c0.1,0,0.2,0.1,0.2,0.1  c-1.4-7.5,4.4-9.5,4.4-9.5c0.8-0.2,1.5-0.3,2-0.3c0.2,0,0.4,0,0.5,0c0.2,0,0.3,0,0.5,0c0.6,0,1.2,0.1,2,0.3c0,0,5.8,2,4.4,9.5  c0,0,0.1-0.1,0.2-0.1c0.3,0,0.7,0.3,0.3,1.9c-0.5,2.1-1.3,2.2-1.5,2.2c0,0,0,0,0,0s-0.1,2-1.9,4.1c0,0,0,0,0,0.1  c-1.4,1.4-2.8,2.1-4.3,2.1c-1.8-0.1-3.2-1.3-3.9-2c0,0,0,0,0,0C14.1,20.9,14,18.9,14,18.9C14,18.9,14,18.9,14,18.9z M20,35  c-7.5,0-15-0.8-14.4-2.4c1.2-3.2,3.1-3.8,4.7-4.1c1.5-0.3,5.3-1.2,5.6-2.1c0.1-0.3,0.1-0.8,0.1-1.3c0.9,0.7,2.2,1.4,3.7,1.4  c0.1,0,0.2,0,0.2,0c1.4,0,2.7-0.5,4-1.5c0,0.6,0,1.1,0.1,1.4c0.3,0.9,4.1,1.8,5.6,2.1c1.5,0.3,3.5,0.9,4.7,4.1  C35,34.2,27.5,35,20,35z"/>\n          </svg>\n        </div>\n      </a>\n\n      <a class="menu__button menu__button--topRight" data-button="map">\n        <div class="menu__icon menu__icon--map">\n          <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n            <path fill="none"\n              stroke-width="2"\n              stroke-linecap="round"\n              stroke-linejoin="round"\n              d="M35.2,30.3L26.4 34.6 14.4 28.4 4.8 33.2 4.8 10.1 14.4 5.4 26.4 11.6 35.2 7.2 z"/>\n            <line stroke-width="2" stroke-width="1" x1="14.4" y1="5.4" x2="14.4" y2="28.4"/>\n            <line stroke-width="2" stroke-width="1" x1="26.4" y1="11.6" x2="26.4" y2="34.6"/>\n          </svg>\n        </div>\n      </a>\n\n      <a class="menu__button menu__button--bottomLeft" data-button="share">\n        <div class="menu__expandable">\n          <div class="menu__icon menu__icon--pinterest">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n              <path d="M20.5,8.4c-5.7,0-8.5,4.5-8.5,8.3c0,2.3,0.8,4.3,2.4,5.1c0.3,0.1,0.5,0,0.6-0.3c0.1-0.2,0.2-0.8,0.2-1.1  c0.1-0.3,0-0.5-0.2-0.7c-0.5-0.6-0.8-1.5-0.8-2.6c0-3.4,2.3-6.4,5.9-6.4c3.2,0,5,2.2,5,5.1c0,3.8-1.5,7.1-3.8,7.1  c-1.2,0-2.2-1.2-1.9-2.6c0.4-1.7,1.1-3.5,1.1-4.7c0-1.1-0.5-2-1.6-2c-1.3,0-2.3,1.5-2.3,3.5c0,1.3,0.4,2.1,0.4,2.1s-1.3,6.2-1.5,7.3  c-0.5,2.2-0.1,4.8,0,5.1c0,0.2,0.2,0.2,0.3,0.1c0.1-0.2,1.6-2.3,2.2-4.4c0.1-0.6,0.8-3.7,0.8-3.7c0.4,0.9,1.6,1.7,2.9,1.7  c3.8,0,6.4-3.9,6.4-9.1C28,12.1,25,8.4,20.5,8.4z"/>\n            </svg>\n          </div>\n          <div class="menu__icon menu__icon--twitter">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n              <path d="M9.6,27c0.3,0,0.7,0.1,1,0.1c2,0,3.8-0.6,5.4-1.9c-0.9,0-1.8-0.3-2.5-0.9s-1.2-1.3-1.5-2.2c0.2,0,0.5,0.1,0.8,0.1  c0.4,0,0.8-0.1,1.1-0.2c-1-0.2-1.8-0.7-2.5-1.6c-0.7-0.8-1-1.8-1-2.9v-0.1c0.6,0.4,1.3,0.5,2,0.6c-0.6-0.4-1.1-0.9-1.4-1.6  c-0.4-0.7-0.5-1.4-0.5-2.2c0-0.8,0.2-1.6,0.6-2.3c1.1,1.4,2.4,2.5,3.9,3.4c1.5,0.8,3.2,1.3,5,1.4c-0.1-0.4-0.1-0.7-0.1-1  c0-1.2,0.4-2.3,1.3-3.2c0.8-0.9,1.9-1.3,3-1.3c1.2,0,2.3,0.5,3.1,1.4c1-0.2,1.9-0.6,2.7-1.1c-0.3,1.1-0.9,1.9-1.9,2.5  c0.8-0.1,1.6-0.3,2.5-0.7c-0.5,0.9-1.3,1.7-2.1,2.4v0.6c0,1.2-0.2,2.4-0.5,3.6c-0.3,1.2-0.9,2.4-1.5,3.5c-0.7,1.1-1.5,2.1-2.5,3  s-2.1,1.6-3.4,2.1c-1.3,0.5-2.8,0.8-4.3,0.8C13.7,29,11.5,28.3,9.6,27L9.6,27z"/>\n            </svg>\n          </div>\n          <div class="menu__icon menu__icon--facebook">\n            <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n              <path d="M14.6,20.7v-3.9h3.1v-1.9c0-1.4,0.5-2.6,1.4-3.6c0.9-1,2-1.5,3.3-1.5h3v3.9h-3c-0.2,0-0.4,0.1-0.5,0.3  c-0.2,0.2-0.2,0.5-0.2,0.8v2h3.8v3.9h-3.8v9.4h-3.8v-9.4L14.6,20.7L14.6,20.7z"/>\n            </svg>\n          </div>\n        </div>\n        <div class="menu__icon menu__icon--share">\n          <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n            <path fill="none"\n              stroke-width="2"\n              stroke-linecap="round"\n              stroke-linejoin="round"\n              d="M17.2,22.9L3.1 17.2 36.9 3.1 22.8 36.9 z"/>\n            <line stroke-width="2" x1="17.2" y1="22.9" x2="36.9" y2="3.1"/>\n          </svg>\n        </div>\n      </a>\n\n      <a class="menu__button menu__button--topLeft" data-button="infos">\n        <div class="menu__icon menu__icon--infos">\n          <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n            <rect x="18.5" y="16.1" width="3" height="15.2"/>\n            <circle cx="20" cy="10.8" r="2.2"/>\n          </svg>\n        </div>\n      </a>\n    </div>\n  ',events:{"click a":"onClick","mouseenter .menu__button--bottomLeft":"onShareOver","mouseleave .menu__button--bottomLeft":"onShareOut"},els:{$expandable:".menu__expandable",$icon:".menu__icon--share"},didInitialize:function(){this.expandableHeight=null,this.iconHeight=null},onClick:function(e){var t=o(e.currentTarget).attr("data-button");t&&this.trigger("click",t)},onShareOver:function(){this.expandableHeight||(this.expandableHeight=this.els.$expandable.css("height","auto").height(),this.els.$expandable.css("height",0)),this.iconHeight||(this.iconHeight=this.els.$icon.outerHeight()),this.els.$expandable.velocity("stop").velocity({height:this.expandableHeight},300),this.els.$icon.velocity("stop").velocity({marginBottom:-this.iconHeight},400)},onShareOut:function(){this.els.$expandable.velocity("stop").velocity({height:0},300),this.els.$icon.velocity("stop").velocity({marginBottom:0},400)},"in":function(){this.$("a").each(function(e){o(this).css({opacity:0,marginTop:50}).velocity({opacity:1,marginTop:0},{duration:800,delay:300*e})})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/WelcomeView.js":[function(e,t){(function(i){"use strict";var o=function(e){return e&&(e["default"]||e)},n=(o("undefined"!=typeof window?window._:"undefined"!=typeof i?i._:null),o("undefined"!=typeof window?window.Backbone:"undefined"!=typeof i?i.Backbone:null)),s=o("undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null),l=o(e("./HowtoView"));t.exports=n.ContentView.extend({name:"welcome",className:"welcome",content:".welcome__overlay",template:'\n    <div class=\'welcome__overlay\'></div>\n    <div class=\'welcome__logo\'>\n      <div class="welcome__logo__part welcome__logo__part--eyes">\n        <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 350 350">\n          <path fill="#ffffff" d="M170.711,47.193c0-16.047-14.476-29.064-32.29-29.064c-5.614,0-10.874,1.291-15.471,3.545   c-0.343,0.068-44.112,22.746-44.112,22.746c-1.086,0.57-1.768,1.631-1.768,2.773c0,1.15,0.682,2.195,1.768,2.77   c0,0,43.77,22.678,44.102,22.746c4.6,2.264,9.867,3.547,15.481,3.547C156.235,76.26,170.711,63.238,170.711,47.193 M125.358,47.193   c0-8.016,6.493-14.512,14.509-14.512c8.029,0,14.519,6.496,14.519,14.512c0,8.02-6.489,14.516-14.519,14.516   C131.852,61.709,125.358,55.205,125.358,47.193"/>\n          <path fill="#ffffff" d="M176.195,46.623c0,15.615,14.057,28.268,31.406,28.268c5.445,0,10.564-1.252,15.023-3.447   c0.348-0.072,42.902-22.131,42.902-22.131c1.061-0.547,1.73-1.578,1.73-2.689c0-1.113-0.67-2.133-1.73-2.695   c0,0-42.554-22.055-42.886-22.121c-4.475-2.199-9.598-3.449-15.039-3.449C190.25,18.357,176.195,31.012,176.195,46.623    M220.29,46.623c0,7.791-6.321,14.107-14.119,14.107c-7.788,0-14.104-6.316-14.104-14.107c0-7.799,6.316-14.111,14.104-14.111   C213.969,32.512,220.29,38.822,220.29,46.623"/>\n        </svg>\n      </div>\n      <div class="welcome__logo__part welcome__logo__part--firstLine">\n        <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 350 350">\n          <path fill="#ffffff" d="M57.839,209.961c-12.034-0.104-24.062,0.213-36.098,0.225c-0.44-45.725,0.002-91.5,0.71-137.217   c0.094-5.957-9.136-5.945-9.229,0c-0.731,47.256-1.2,94.578-0.682,141.838c0.028,2.527,2.08,4.598,4.615,4.615   c13.563,0.09,27.12-0.354,40.684-0.23C63.792,219.25,63.788,210.02,57.839,209.961z"/>\n          <path fill="#ffffff" d="M128.055,143.332c-1.467-14.496-13.062-40.309-32.65-32.73c-19.783,7.662-19.412,42.539-19.751,58.896   c0.354,16.195,2.644,33.123,14.173,45.33c6.213,6.58,19.268,7.465,25.541,0.469C131.229,197.609,130.319,165.752,128.055,143.332z    M118.801,178.768c-0.769,10.088-2.842,24.646-11.541,31.166c-17.764,13.32-22.271-35.568-22.377-40.439   c0.318-15.156-0.209-37.1,11.539-48.836c10.566-10.557,20.694,13.43,22.086,20.551   C120.826,153.111,119.713,166.732,118.801,178.768z"/>\n          <path fill="#ffffff" d="M188.086,201.658c-27.802,27.314-28.904-31.4-28.41-44.357c0.512-13.459,4.992-45.27,25.172-36.105   c5.38,2.441,10.07-5.51,4.658-7.973c-61.18-27.793-47.691,146.84,5.106,94.965C198.863,204.008,192.333,197.49,188.086,201.658z"/>\n          <path fill="#ffffff" d="M265.634,213.852c-5.908-33.953-12.603-67.771-19.587-101.52c-0.941-4.531-7.816-4.301-8.895,0   c-5.65,22.445-10.805,45.207-15.341,68.029c-0.317,0.764-0.494,1.59-0.494,2.43c-2.056,10.471-4.017,20.947-5.757,31.418   c-0.967,5.822,7.924,8.311,8.896,2.451c1.559-9.373,3.299-18.748,5.121-28.119c7.352,0.047,14.705-0.076,22.059-0.107   c1.73,9.283,3.482,18.564,5.102,27.869C257.754,222.162,266.652,219.672,265.634,213.852z M231.812,177.17   c2.902-14.217,6.055-28.393,9.404-42.486c2.861,14.115,5.645,28.248,8.342,42.396C243.643,177.127,237.727,177.182,231.812,177.17z   "/>\n          <path fill="#ffffff" d="M333.216,208.742c-11.68,0.043-23.354,0.213-35.031,0.094c-0.641-44.672,1.18-89.363-0.23-134.021   c-0.188-5.938-9.418-5.955-9.23,0c1.465,46.189-0.564,92.42,0.281,138.623c0.047,2.549,2.066,4.568,4.615,4.615   c13.199,0.24,26.393-0.029,39.596-0.08C339.167,217.947,339.167,208.717,333.216,208.742z"/>\n        </svg>\n      </div>\n      <div class="welcome__logo__part welcome__logo__part--secondLine">\n        <svg xmln="http://www.w3.org/2000/svg" viewBox="0 0 350 350">\n          <path fill="#ffffff" d="M163.937,240.445c-6.097,11.02-11.481,22.42-17.36,33.557c-6.542-10.607-12.96-21.287-19.051-32.168   c-2.906-5.186-10.881-0.533-7.969,4.662c7.117,12.705,14.627,25.158,22.328,37.518c-4.54,14.051-9.395,28-13.592,42.158   c-1.697,5.723,7.211,8.148,8.898,2.455c4.395-14.82,9.514-29.412,14.226-44.133c7.173-12.947,13.327-26.439,20.487-39.387   C174.785,239.898,166.817,235.238,163.937,240.445z"/>\n          <path fill="#ffffff" d="M224.506,321.619c-9.387,0.129-18.768,0.057-28.148,0.004c-0.059-5.773-0.072-11.545-0.108-17.318   c6.37,0.021,12.738-0.031,19.108,0.041c5.957,0.064,5.949-9.166,0-9.23c-6.389-0.068-12.777-0.016-19.166-0.039   c-0.062-15.67-0.025-31.34,0.18-47.008c9.201,0.057,18.402,0.014,27.604,0.053c5.953,0.025,5.949-9.205,0-9.229   c-10.729-0.049-21.456,0.049-32.186-0.072c-2.546-0.033-4.575,2.119-4.615,4.613c-0.422,27.594-0.311,55.189-0.018,82.781   c0.025,2.523,2.076,4.605,4.615,4.615c10.91,0.045,21.819,0.17,32.734,0.02C230.445,330.77,230.457,321.539,224.506,321.619z"/>\n          <path fill="#ffffff" d="M104.757,306.158c-7.348,0.094-14.692,0.043-22.042,0.004c-0.009-4.428-0.023-8.852-0.06-13.279   c5.013,0.025,10.026-0.008,15.038-0.221c5.928-0.252,5.953-9.48,0-9.229c-5.037,0.217-10.075,0.248-15.111,0.219   c-0.098-11.854-0.131-23.713,0.109-35.566c7.213,0.035,14.43,0.008,21.637,0.039c5.952,0.033,5.949-9.197,0-9.23   c-8.723-0.039-17.454,0.045-26.18-0.057c-2.566-0.029-4.543,2.123-4.615,4.615c-0.613,22.432-0.003,44.869-0.028,67.299   c-0.003,2.527,2.105,4.6,4.614,4.615c8.885,0.039,17.758,0.137,26.638,0.021C110.706,315.303,110.713,306.072,104.757,306.158z"/>\n          <path fill="#ffffff" d="M277.358,244.422c-16.284-15.002-37.755-0.133-36.763,19.74c0.418,8.396,6.801,13.922,14.516,15.449   c8.634,1.713,15.917-0.5,19.233,10.283c4.68,15.215-17.478,24.77-24.552,9.373c-2.48-5.4-10.434-0.705-7.967,4.662   c8.682,18.887,39.208,15.545,41.821-5.988c1.236-10.168-2.105-20.279-11.725-24.928c-3.924-1.896-8.732-1.912-12.985-2.203   c-19.125-1.301-3.92-34.436,11.899-19.859C275.2,254.977,281.751,248.467,277.358,244.422"/>\n        </svg>\n      </div>\n    </div>\n    <div class=\'welcome__video\'>\n      <video class=\'welcome__video__video video-js vjs-default-skin\'\n        style=\'position:absolute;top:0;left:0;overflow:hidden;z-index:-998;\'\n        height=\'100%\'\n        width=\'100%\'\n        data-setup=\'{ "techOrder": ["youtube"], "src": "https://www.youtube.com/watch?v=dPZxMU876Pw" }\'\n        ></video>\n    </div>\n  ',els:{$eyes:".welcome__logo__part--eyes",$firstLine:".welcome__logo__part--firstLine",$secondLine:".welcome__logo__part--secondLine"},willRemove:function(){this.video.dispose()
},logoIn:function(){this.els.$eyes.velocity("stop").velocity({opacity:1,top:0},{duration:500,delay:200}),this.els.$firstLine.velocity("stop").velocity({opacity:1,top:0},{duration:500}),this.els.$secondLine.velocity("stop").velocity({opacity:1,top:0},{duration:700})},logoOut:function(){this.els.$eyes.velocity("stop").velocity({opacity:0,top:-50},{duration:400}),this.els.$firstLine.velocity("stop").velocity({opacity:0,top:100},{duration:600,delay:100}),this.els.$secondLine.velocity("stop").velocity({opacity:0,top:100},{duration:400,delay:100})},setupVideo:function(){var e=function(){var t=this.video.currentTime();if(!i&&t>57.5&&(this.logoIn(),i=!0),!o&&t>62){this.logoOut(),o=!0;var n=new l;this.changeContent(n)}i&&o&&this.video.off("timeupdate",e)},t=this.$(".welcome__video__video");this.video=s(t[0]),this.video.one("play",this.videoIn),this.video.on("timeupdate",e.bind(this),!1),this.video.Background({mediaType:"youtube",volume:1});var i=!1,o=!1;this.video.currentTime(50)},videoIn:function(e){jQuery(e.target).velocity("stop").velocity({opacity:1},{duration:800,delay:100})},out:function(e){var t=this;return new Promise(function(i){setTimeout(e,400),t.$el.velocity("stop").velocity({opacity:0,tween:[0,1]},{duration:1e3,progress:function(e,i,o,n,s){t.video.volume(s)},complete:i})})},didRender:function(){this.setupVideo()}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./HowtoView":"/Users/valentin/Documents/repos/localeyes-es6/app/src/scripts/views/HowtoView.js"}]},{},["./app/src/scripts/main.js"]);